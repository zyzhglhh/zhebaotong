<ion-modal-view>

    <ion-header-bar>
        <div class="buttons">
            <button class="button button-clear" ng-click="actions.closeTakePics()"><span class="primary">取消</span></button>
        </div>
        <h1 class="title">{{config.title}}</h1>
        <div class="buttons">
            <button class="button button-icon ion-android-arrow-back" ng-click="actions.previous()" ng-if="currentIndex"></button>
            <button class="button button-icon ion-android-arrow-forward" ng-click="actions.next()" ng-if="slidesCount - currentIndex - 1"></button>
            <button class="button button-clear" ng-click="actions.rmTakePics()" ng-if="!(slidesCount - currentIndex - 1)"><span class="primary">完成</span></button>
        </div>
    </ion-header-bar>

    <ion-content class="fullheight">
        <ion-slide-box delegate-handle="takePics" show-pager="true" does-continue="false" class="fullheight" on-slide-changed="actions.getIndex()">
            <ion-slide ng-repeat="img in config.images">
                <!-- <ion-header-bar class="blue"><h1 class="title">Page 1</h1></ion-header-bar> -->
                <!-- <ion-content scroll="false"> -->
                <ion-content scroll="true">
                    <ion-list>
                        <ion-item class="row">
                            <div class="col"><button class="button button-clear"type="button">{{img.title}}</button></div>
                            <div class="col float-right">
                                <!-- <button class="button button-assertive" ng-click="actions.delPics(img.Url)" type="button">删除</button> -->
                                <button class="button button-positive" ng-click="actions.takePics(img.title, img._id)" type="button">拍照</button>
                            </div>
                        </ion-item>
                        <ion-item ng-if="pageHandler.progress">
                            <progress value="{{pageHandler.progress}}" max="100"></progress>
                        </ion-item>
                        <ion-item ng-if="error.takePicsError"><!-- ng-if会创建子$scope, 因此需要采用数组方式传递变量(内存地址引用), 否则子$scope中对takePicsError的改变不会影响父$scope的takePicsError, 元素不会消失 -->
                            {{error.takePicsError}} <i class="icon ion-ios-close" ng-click="error.takePicsError = ''"></i>
                        </ion-item>
                        <ion-item>
                            <img ng-src="{{img.Url || 'img/noImg.png'}}" alt="{{img.title}}" class="img-responsive center-block">
                        </ion-item>
                        <!-- <div class="fullheight blue">
                            <h3>BLUE</h3>
                        </div> -->
                    </ion-list>
                </ion-content>
            </ion-slide>
        </ion-slide-box>
    </ion-content>

</ion-modal-view>

<style type="text/css">
  /*html, body, .pane, div {
    height: 100%;
    overflow: hidden;
  }*/
  /*.fullbox {
    width: 100%;
    height: 100%;
  }*/
  /*要把所有的div都设置成100%高度, 本质是要把所有的父元素都设置成100%高度, 不然光设置某一个div, 会受父元素的影响, 不能占满屏幕高度*/
  .fullheight div.scroll {
    height: 100%;
  }
  /*这里不能对所有的div都设置高度，会影响到后面所有的页面，需单独设置一个元素fullheight*/
  /*ion-slide-box必须设置高度，否则会影响到其内部的元素，造成ion-header-bar和ion-content都不显示*/
  /*div:not(.nofullheight) {*/
  .fullheight {
    height: 100%;
    /*height: auto;*/
    /*height: 720px;*/  /*设置100%在窗口变小时高度会变为0*/
  }
  /*.blue {
    background-color: #BFFDF5;
  }
  .yellow {
    background-color: #FAFEBD;
  }
  .red {
    background-color: #FFCCF7;
  }*/
  /*.downside {
    width: 100%;
    position: fixed;
    bottom: 20%;
  }
  .clickin {
    display: block;
    margin-right: auto;
    margin-left: auto;
    max-width: 50%;
  }*/

  .float-right button.button {
    float: right;
    /*margin-left: 6px;*/
  }
  /*.margin-bottom {
    margin-bottom: 36px;
  }*/
</style>